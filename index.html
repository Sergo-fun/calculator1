<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', Arial, sans-serif;
            font-weight: 600;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            color: #333;
        }

        h1 {
            margin-bottom: 20px;
            font-size: 1.6rem;
            text-align: center;
            color: white;
            transition: all 0.3s ease-in-out;
        }

        form {
            display: flex;
            flex-direction: column;
            gap: 15px;
            background: #fff;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 350px; /* –£–º–µ–Ω—å—à–µ–Ω–∞ —à–∏—Ä–∏–Ω–∞ —Ñ–æ—Ä–º—ã */
        }

        label {
            font-size: 1rem;
            color: #555;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .radio-group div {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            color: #555;
        }

        .radio-group input[type="radio"] {
            width: 18px;
            height: 18px;
            appearance: none;
            border-radius: 50%;
            border: 2px solid #ddd;
            cursor: pointer;
            transition: background 0.3s, border-color 0.3s;
        }

        .radio-group input[type="radio"]:checked {
            background-color: #ff6f61;
            border-color: #ff6f61;
        }

        select, input {
            padding: 10px;
            font-size: 1rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            outline: none;
            transition: border-color 0.3s;
        }

        select:focus, input:focus {
            border-color: #ff6f61;
        }

        button {
            padding: 12px;
            font-size: 1rem;
            background: linear-gradient(135deg, #ff6f61, #de6262);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.3s, transform 0.2s;
        }

        button:hover {
            background: linear-gradient(135deg, #de6262, #bf4c4c);
        }

        button:active {
            transform: scale(0.98);
        }

        .close-btn {
            margin-top: 15px;
            padding: 10px;
            font-size: 1rem;
            background-color: #ff6f61;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            width: 80%; /* –£–º–µ–Ω—å—à–µ–Ω–∞ —à–∏—Ä–∏–Ω–∞ –∫–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è */
        }

        .close-btn:hover {
            background-color: #de6262;
        }

        .hidden {
            display: none;
        }

        .result {
            margin-top: 15px;
            font-size: 1rem;
            color: #333;
            text-align: center;
        }

        .social-logo {
            width: 20px;
        }
    </style>
</head>
<body>
    <h1 id="formTitle">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏</h1>
    <form id="mainForm">
        <label for="projectType">–¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞:</label>
        <select id="projectType">
            <option value="site">üåê –°–∞–π—Ç</option>
            <option value="chatbot">ü§ñ –ß–∞—Ç-–±–æ—Ç</option>
            <option value="webapp">üì± –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</option>
        </select>

        <div id="complexitySection">
            <label for="siteType">–¢–∏–ø —Å–∞–π—Ç–∞:</label>
            <div class="radio-group">
                <div>
                    <input type="radio" id="singlePage" name="siteType" value="singlePage">
                    <label for="singlePage">–û–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π —Å–∞–π—Ç</label>
                </div>
                <div>
                    <input type="radio" id="multiPage" name="siteType" value="multiPage">
                    <label for="multiPage">–ú–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π —Å–∞–π—Ç</label>
                </div>
                <div>
                    <input type="radio" id="onlineStore" name="siteType" value="onlineStore">
                    <label for="onlineStore">–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω</label>
                 </div>
                <div>
                    <input type="radio" id="portfolioBlog" name="siteType" value="portfolioBlog">
                    <label for="portfolioBlog">–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ –∏–ª–∏ –±–ª–æ–≥</label>
                </div>
            </div>
        </div>

        <div id="chatbotSection" class="hidden">
            <label>–¢–∏–ø —á–∞—Ç-–±–æ—Ç–∞:</label>
            <div>
                <input type="checkbox" id="infoBot" value="info">
                <label for="infoBot">üìÑ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π</label>
            </div>
            <div>
                <input type="checkbox" id="tradeBot" value="trade">
                <label for="tradeBot">üõí –¢–æ—Ä–≥–æ–≤—ã–π</label>
            </div>
            <div>
                <input type="checkbox" id="serviceBot" value="service">
                <label for="serviceBot">üîß –°–µ—Ä–≤–∏—Å–Ω—ã–π</label>
            </div>

            <label>–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏:</label>
            <div>
                <input type="checkbox" id="telegram" value="telegram">
                <img class="social-logo" src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram"> Telegram
            </div>

            <div>
                <input type="checkbox" id="whatsapp" value="whatsapp">
                <img class="social-logo" src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp"> WhatsApp
            </div>
            <div>
                <input type="checkbox" id="instagram" value="instagram">
                <img class="social-logo" src="https://upload.wikimedia.org/wikipedia/commons/9/95/Instagram_logo_2022.svg" alt="Instagram"> Instagram
            </div>
      <div>
    <input type="checkbox" id="vk" value="vk">
    <img class="social-logo" src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/VK_Compact_Logo_%282021-present%29.svg/1024px-VK_Compact_Logo_%282021-present%29.svg.png" alt="VK"> VK
</div>
            <div>
                <input type="checkbox" id="facebook" value="facebook">
                <img class="social-logo" src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Facebook"> Facebook
            </div>

            <label for="advancedFeatures">–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</label>
            <div>
                <input type="checkbox" id="crmIntegration" value="crm">
                <label for="crmIntegration">üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM</label>
            </div>
            <div>
                <input type="checkbox" id="paymentProcessing" value="payment">
                <label for="paymentProcessing">üí≥ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π</label>
            </div>
            <div>
                <input type="checkbox" id="aiProcessing" value="ai">
                <label for="aiProcessing">üß† –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AI</label>
            </div>
        </div>

        <label for="currency">–í–∞–ª—é—Ç–∞:</label>
        <select id="currency">
            <option value="rub">üá∑üá∫ –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å</option>
            <option value="usd">üá∫üá∏ –î–æ–ª–ª–∞—Ä</option>
            <option value="eur">üá™üá∫ –ï–≤—Ä–æ</option>
            <option value="byn">üáßüáæ –ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —Ä—É–±–ª—å</option>
        </select>

        <button type="button" id="calculateBtn">üî¢ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å</button>
    </form>

    <div class="result" id="result"></div>

    <button class="close-btn" onclick="Telegram.WebApp.close()">–ó–∞–∫—Ä—ã—Ç—å</button>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();

        document.body.style.backgroundColor = tg.themeParams.bg_color || "#f4f4f9";
        document.body.style.color = tg.themeParams.text_color || "#333";

        const projectType = document.getElementById("projectType");
        const complexitySection = document.getElementById("complexitySection");
        const chatbotSection = document.getElementById("chatbotSection");
        const calculateBtn = document.getElementById("calculateBtn");
        const resultDiv = document.getElementById("result");

        projectType.addEventListener("change", () => {
            if (projectType.value === "chatbot") {
                complexitySection.classList.add("hidden");
                chatbotSection.classList.remove("hidden");
            } else if (projectType.value === "site") {
                chatbotSection.classList.add("hidden");
                complexitySection.classList.remove("hidden");
            } else {
                chatbotSection.classList.add("hidden");
                complexitySection.classList.add("hidden");
            }
        });

      calculateBtn.addEventListener("click", async () => {
    let cost = 0;
    const currency = document.getElementById("currency").value;
    let currencySymbol = "BYN";
    let rate = 1; // –°—Ç–∞–≤–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è BYN

    // –ü–æ–ª—É—á–∞–µ–º –∫—É—Ä—Å —á–µ—Ä–µ–∑ API
    const response = await fetch(`https://api.exchangerate-api.com/v4/latest/BYN`); // API –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∫—É—Ä—Å–æ–≤
    const data = await response.json();

    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–∏–º–≤–æ–ª –≤–∞–ª—é—Ç—ã –∏ –∫—É—Ä—Å –æ–±–º–µ–Ω–∞
    if (currency === "rub") {
        currencySymbol = "‚ÇΩ";
        rate = data.rates.RUB; // –ö—É—Ä—Å –∫ —Ä—É–±–ª—é
    } else if (currency === "usd") {
        currencySymbol = "$";
        rate = data.rates.USD; // –ö—É—Ä—Å –∫ –¥–æ–ª–ª–∞—Ä—É
    } else if (currency === "eur") {
        currencySymbol = "‚Ç¨";
        rate = data.rates.EUR; // –ö—É—Ä—Å –∫ –µ–≤—Ä–æ
    } else if (currency === "byn") {
        currencySymbol = "BYN";
        rate = 1; // –°—Ç–∞–≤–∫–∞ –¥–ª—è BYN
    } else if (currency === "usdt") {
        currencySymbol = "USDT";
        rate = data.rates.USD; // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –∫—É—Ä—Å –∫ USDT, —Ç–∞–∫ –∫–∞–∫ USDT –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –¥–æ–ª–ª–∞—Ä—É
    }

    // –°—Ç–æ–∏–º–æ—Å—Ç—å 1 –±–æ—Ç–∞ (–≤ BYN)
    const botCost = 349;

    // –ü–æ–ª—É—á–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –±–æ—Ç–æ–≤
    const selectedSocialNetworks = document.querySelectorAll("#chatbotSection input[type='checkbox']:checked");
    const numberOfBots = selectedSocialNetworks.length;

    // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–æ—Ç–æ–≤
    if (projectType.value === "chatbot") {
        let totalCost = 0;

        // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–µ—Ä–≤–æ–≥–æ –±–æ—Ç–∞
        totalCost += botCost;

        // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –±–æ—Ç–æ–≤ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —Å–∫–∏–¥–∫–∏
        if (numberOfBots > 1) totalCost += botCost * 0.75;  // 2-–π –±–æ—Ç: 25% —Å–∫–∏–¥–∫–∞
        if (numberOfBots > 2) totalCost += botCost * 0.50;  // 3-–π –±–æ—Ç: 50% —Å–∫–∏–¥–∫–∞
        if (numberOfBots > 3) totalCost += botCost * 0.25;  // 4-–π –±–æ—Ç: 75% —Å–∫–∏–¥–∫–∞
        if (numberOfBots > 4) totalCost += 0;               // 5-–π –±–æ—Ç: –±–µ—Å–ø–ª–∞—Ç–Ω–æ

        // –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –∏—Ç–æ–≥–æ–≤—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å
        cost = totalCost;
    }

    // –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω –¥—Ä—É–≥–æ–π —Ç–∏–ø –ø—Ä–æ–µ–∫—Ç–∞
    if (projectType.value === "site") {
        cost = 529; // –°—Ç–æ–∏–º–æ—Å—Ç—å —Å–∞–π—Ç–∞ –≤ BYN
    } else if (projectType.value === "webapp") {
        cost = 1199; // –°—Ç–æ–∏–º–æ—Å—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ BYN
    }

    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤ –Ω—É–∂–Ω—É—é –≤–∞–ª—é—Ç—É
    cost *= rate;

    // –í—ã–≤–æ–¥–∏–º —Ü–µ–Ω—É
    resultDiv.textContent = `–°—Ç–æ–∏–º–æ—Å—Ç—å: ${cost.toFixed(2)} ${currencySymbol}`;
});

    </script>
</body>
</html>
